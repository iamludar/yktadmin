(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2a96"],{"AM/0":function(e,t,o){},C2i5:function(e,t,o){"use strict";var i=o("CJHF");o.n(i).a},CJHF:function(e,t,o){},KOG0:function(e,t,o){"use strict";o.d(t,"e",function(){return s}),o.d(t,"a",function(){return n}),o.d(t,"g",function(){return a}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return l}),o.d(t,"f",function(){return c}),o.d(t,"b",function(){return u});var i=o("t3Un");function s(e){return Object(i.a)({url:"/bGoods/goodsList",method:"post",params:e})}function n(e){return e.tuserId="helloworld",Object(i.a)({url:"/bGoods/addGood",method:"post",params:e})}function a(e){return e.tuserId="helloworld",Object(i.a)({url:"/bGoods/updateGood",method:"post",params:e})}function r(e){return Object(i.a)({url:"/bGoods/delGood",method:"post",params:e})}function l(e){return Object(i.a)({url:"/bGoods/goodDetail",method:"post",params:{goodId:e}})}function c(e){return Object(i.a)({url:"/bGoods/shelvesSp",method:"post",params:e})}function u(e){return Object(i.a)({url:"/user/create",method:"post",data:e})}},Z5Nv:function(e,t,o){},"f+9M":function(e,t,o){"use strict";var i=o("AM/0");o.n(i).a},glbJ:function(e,t,o){"use strict";var i=o("4d7F"),s=o.n(i),n=o("GQeE"),a=o.n(n),r={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return a()(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=a()(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(e,t){for(var o=t.uid,i=a()(this.listObj),s=0,n=i.length;s<n;s++)if(this.listObj[i[s]].uid===o)return this.listObj[i[s]].url=e.result,void(this.listObj[i[s]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,o=a()(this.listObj),i=0,s=o.length;i<s;i++)if(this.listObj[o[i]].uid===t)return void delete this.listObj[o[i]]},beforeUpload:function(e){var t=this,o=window.URL||window.webkitURL,i=e.uid;return this.listObj[i]={},new s.a(function(s,n){var a=new Image;a.src=o.createObjectURL(e),a.onload=function(){t.listObj[i]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},s(!0)})}}},l=(o("C2i5"),o("KHd+")),c=Object(l.a)(r,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload-container"},[o("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("上传图片\n  ")]),e._v(" "),o("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"http://test.jfdou.cn:7080/bGoods/uploadPic","list-type":"picture-card"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)},[],!1,null,"9beeca70",null);c.options.__file="editorImage.vue";var u=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],d=["bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],m={name:"Tinymce",components:{editorImage:c.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:d,menubar:this.menubar,plugins:u,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(o){t.value&&o.setContent(t.value),t.hasInit=!0,o.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",o.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img src="'+e.url+'" >')})}}},p=(o("rgwc"),Object(l.a)(m,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),t("div",{staticClass:"editor-custom-btn-container"},[t("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"84e61d72",null));p.options.__file="index.vue";t.a=p.exports},j8am:function(e,t,o){"use strict";o.r(t);var i=o("glbJ"),s=o("KOG0"),n=o("qgcl"),a={components:{Tinymce:i.a},data:function(){return{tList:[],content:"hello world",html:"",youxiaoqi:[],fileList:[],zhutuList:[],imgList:[],imglistcount:0,form:{goodsname:"",issale:1,name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rules:{goodsname:[{required:!0,message:"商品标题为必填项目",trigger:"blur"}],goodstype:[{required:!0,message:"商品类型为必选项目",trigger:"blur"}],simpledesc:[{required:!0,message:"商品详情为必填项",trigger:"blur"}],price:[{required:!0,message:"商品价格为必填项",trigger:"blur"},{type:"number",message:"价格必须为数字值"}],qty:[{required:!0,message:"商品价格为必填项",trigger:"blur"},{type:"number",message:"库存必须为数字值"}],marketprice:[{required:!0,message:"市场价格为必填项",trigger:"blur"},{type:"number",message:"价格必须为数字值"}]}}},created:function(){console.log(this.$route.params.id),this.getTypeList(),this.initGood()},methods:{initGood:function(){var e=this;Object(s.d)(this.$route.params.id).then(function(t){console.log(t),e.form=t.data.result,console.log(e.form)})},getTypeList:function(){var e=this;Object(n.c)().then(function(t){e.tList=t.data.result,console.log(e.tList)})},upload:function(){console.log("submit!")},uploadSuccess:function(e,t,o){console.log(e),this.imgList.push(e.result)},zhutuUploadSuccess:function(e,t,o){this.form.iconaddr=e.result},onSubmit:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&(console.log(e.form),console.log(e.$refs.uploada.uploadFiles),e.youxiaoqi.length>0&&(e.form.effectdate=e.youxiaoqi[0],e.form.invaliddate=e.youxiaoqi[1]),e.$refs.uploada.uploadFiles.length>0?e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result:e.$refs.uploada.uploadFiles.length>1?e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].response.result:e.$refs.uploada.uploadFiles.length>2?e.form.imageaddr3=e.$refs.uploada.uploadFiles[2].response.result:e.$refs.uploada.uploadFiles.length>3?e.form.imageaddr4=e.$refs.uploada.uploadFiles[3].response.result:e.$refs.uploada.uploadFiles.length>4&&(e.form.imageaddr5=e.$refs.uploada.uploadFiles[4].response.result),Object(s.a)(e.form).then(function(t){e.$notify({title:"成功",message:"商品添加成功",type:"success"}),e.form={},e.zhutuList=[],e.fileList=[]}))})},handleExceed:function(){this.$message({message:"超出主图上传数量限制，主图仅能上传一张图片",type:"warning"})},handlePreview:function(){console.log("商品预览"),console.log(this.fileList)},zhutuHandleRemove:function(){this.form.iconaddr=""},handleRemove:function(){},beforeRemove:function(){console.log("移除之前")}}},r=(o("f+9M"),o("KHd+")),l=Object(r.a)(a,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("商品信息")])]),e._v(" "),o("el-form",{ref:"dataForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[o("el-input",{model:{value:e.form.goodsname,callback:function(t){e.$set(e.form,"goodsname",t)},expression:"form.goodsname"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品类型",prop:"goodstype"}},[o("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.goodstype,callback:function(t){e.$set(e.form,"goodstype",t)},expression:"form.goodstype"}},e._l(e.tList,function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"商品简述",prop:"simpledesc"}},[o("el-input",{attrs:{autosize:{minRows:2,maxRows:4},placeholder:"请输入内容",type:"textarea"},model:{value:e.form.simpledesc,callback:function(t){e.$set(e.form,"simpledesc",t)},expression:"form.simpledesc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"市场价格",prop:"marketprice"}},[o("el-input",{model:{value:e.form.marketprice,callback:function(t){e.$set(e.form,"marketprice",e._n(t))},expression:"form.marketprice"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"价格",prop:"price"}},[o("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n(t))},expression:"form.price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"库存",prop:"qty"}},[o("el-input",{model:{value:e.form.qty,callback:function(t){e.$set(e.form,"qty",e._n(t))},expression:"form.qty"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否上架"}},[o("el-tooltip",{attrs:{content:"是否上架开关，点击切换",placement:"top"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"是","inactive-text":"否"},model:{value:e.form.issale,callback:function(t){e.$set(e.form,"issale",t)},expression:"form.issale"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否置顶"}},[o("el-tooltip",{attrs:{content:"是否置顶开关，点击切换",placement:"top"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"是","inactive-text":"否"},model:{value:e.form.topFlag,callback:function(t){e.$set(e.form,"topFlag",t)},expression:"form.topFlag"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"是否热卖"}},[o("el-tooltip",{attrs:{content:"是否置顶开关，点击切换",placement:"top"}},[o("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"是","inactive-text":"否"},model:{value:e.form.hotFlag,callback:function(t){e.$set(e.form,"hotFlag",t)},expression:"form.hotFlag"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"有效期",prop:"youxiaoqi"}},[o("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyyMMddHHmmss","range-separator":"至","start-placeholder":"生效日期","end-placeholder":"失效日期"},model:{value:e.youxiaoqi,callback:function(t){e.youxiaoqi=t},expression:"youxiaoqi"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品主图",prop:"zhutuList"}},[o("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.zhutuList,limit:1,"on-success":e.zhutuUploadSuccess,"on-exceed":e.handleExceed,"on-preview":e.handlePreview,"on-remove":e.zhutuHandleRemove,"before-remove":e.beforeRemove,"list-type":"picture",action:"http://test.jfdou.cn/jftgcmsnew/bGoods/uploadPic"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("主图限制1张图片，尺寸建议跟美工确认后修改，只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"列表图标"}},[o("el-upload",{ref:"uploada",staticClass:"upload-demo",attrs:{"file-list":e.fileList,limit:5,"on-success":e.uploadSuccess,"on-exceed":e.handleExceed,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"list-type":"picture",multiple:"",action:"http://test.jfdou.cn/jftgcmsnew/bGoods/uploadPic"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v('商品列表图尺寸800*800px，建议命名方法"产品编号_1"只能上传jpg/png文件，且不超过500kb')])],1)],1),e._v(" "),o("div",{staticClass:"editor-container"},[o("Tinymce",{ref:"editor",attrs:{height:400},model:{value:e.form.goodsdescribe,callback:function(t){e.$set(e.form,"goodsdescribe",t)},expression:"form.goodsdescribe"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),o("el-button",[e._v("取消")])],1)],1)],1)],1)},[],!1,null,null,null);l.options.__file="edit.vue";t.default=l.exports},qgcl:function(e,t,o){"use strict";o.d(t,"c",function(){return s}),o.d(t,"d",function(){return n}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return r});var i=o("t3Un");function s(e){return Object(i.a)({url:"/bGoodsType/getAllGoodsType",method:"post",params:e})}function n(e){return Object(i.a)({url:"/bGoodsType/updGoodsType",method:"post",params:e})}function a(e){return Object(i.a)({url:"/bGoodsType/deleteGoodsType",method:"post",params:e})}function r(e){return Object(i.a)({url:"/bGoodsType/addGoodsType",method:"post",params:e})}},rgwc:function(e,t,o){"use strict";var i=o("Z5Nv");o.n(i).a}}]);