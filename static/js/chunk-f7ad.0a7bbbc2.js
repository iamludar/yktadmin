(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f7ad"],{C2i5:function(e,t,i){"use strict";var a=i("CJHF");i.n(a).a},CJHF:function(e,t,i){},KOG0:function(e,t,i){"use strict";i.d(t,"e",function(){return o}),i.d(t,"a",function(){return s}),i.d(t,"g",function(){return l}),i.d(t,"c",function(){return r}),i.d(t,"d",function(){return n}),i.d(t,"f",function(){return u}),i.d(t,"b",function(){return c});var a=i("t3Un");function o(e){return Object(a.a)({url:"/bGoods/goodsList",method:"post",params:e})}function s(e){return e.tuserId="helloworld",Object(a.a)({url:"/bGoods/addGood",method:"post",params:e})}function l(e){return e.tuserId="helloworld",Object(a.a)({url:"/bGoods/updateGood",method:"post",params:e})}function r(e){return Object(a.a)({url:"/bGoods/delGood",method:"post",params:e})}function n(e){return Object(a.a)({url:"/bGoods/goodDetail",method:"post",params:{goodId:e}})}function u(e){return Object(a.a)({url:"/bGoods/shelvesSp",method:"post",params:e})}function c(e){return Object(a.a)({url:"/user/create",method:"post",data:e})}},Z5Nv:function(e,t,i){},ZuwL:function(e,t,i){"use strict";var a=i("bFbw");i.n(a).a},ZySA:function(e,t,i){"use strict";var a=i("P2sY"),o=i.n(a),s=(i("jUE0"),{bind:function(e,t){e.addEventListener("click",function(i){var a=o()({},t.value),s=o()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),l=s.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var r=l.getBoundingClientRect(),n=l.querySelector(".waves-ripple");switch(n?n.className="waves-ripple":((n=document.createElement("span")).className="waves-ripple",n.style.height=n.style.width=Math.max(r.width,r.height)+"px",l.appendChild(n)),s.type){case"center":n.style.top=r.height/2-n.offsetHeight/2+"px",n.style.left=r.width/2-n.offsetWidth/2+"px";break;default:n.style.top=(i.pageY-r.top-n.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",n.style.left=(i.pageX-r.left-n.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return n.style.backgroundColor=s.color,n.className="waves-ripple z-active",!1}},!1)}}),l=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(l)),s.install=l;t.a=s},bFbw:function(e,t,i){},glbJ:function(e,t,i){"use strict";var a=i("4d7F"),o=i.n(a),s=i("GQeE"),l=i.n(s),r={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return l()(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=l()(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(e,t){for(var i=t.uid,a=l()(this.listObj),o=0,s=a.length;o<s;o++)if(this.listObj[a[o]].uid===i)return this.listObj[a[o]].url=e.result,void(this.listObj[a[o]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,i=l()(this.listObj),a=0,o=i.length;a<o;a++)if(this.listObj[i[a]].uid===t)return void delete this.listObj[i[a]]},beforeUpload:function(e){var t=this,i=window.URL||window.webkitURL,a=e.uid;return this.listObj[a]={},new o.a(function(o,s){var l=new Image;l.src=i.createObjectURL(e),l.onload=function(){t.listObj[a]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},o(!0)})}}},n=(i("C2i5"),i("KHd+")),u=Object(n.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("上传图片\n  ")]),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"http://test.jfdou.cn:7080/bGoods/uploadPic","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)},[],!1,null,"9beeca70",null);u.options.__file="editorImage.vue";var c=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],d=["bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],p={name:"Tinymce",components:{editorImage:u.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:d,menubar:this.menubar,plugins:c,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){t.value&&i.setContent(t.value),t.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",i.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img src="'+e.url+'" >')})}}},m=(i("rgwc"),Object(n.a)(p,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),t("div",{staticClass:"editor-custom-btn-container"},[t("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"84e61d72",null));m.options.__file="index.vue";t.a=m.exports},jUE0:function(e,t,i){},qgcl:function(e,t,i){"use strict";i.d(t,"c",function(){return o}),i.d(t,"d",function(){return s}),i.d(t,"b",function(){return l}),i.d(t,"a",function(){return r});var a=i("t3Un");function o(e){return Object(a.a)({url:"/bGoodsType/getAllGoodsType",method:"post",params:e})}function s(e){return Object(a.a)({url:"/bGoodsType/updGoodsType",method:"post",params:e})}function l(e){return Object(a.a)({url:"/bGoodsType/deleteGoodsType",method:"post",params:e})}function r(e){return Object(a.a)({url:"/bGoodsType/addGoodsType",method:"post",params:e})}},rgwc:function(e,t,i){"use strict";var a=i("Z5Nv");i.n(a).a},vigL:function(e,t,i){"use strict";i.r(t);var a=i("EJiy"),o=i.n(a),s=i("KOG0"),l=i("qgcl"),r=i("ZySA"),n=i("7Qib"),u=i("glbJ"),c={name:"ComplexTable",directives:{waves:r.a},filters:{isSaleFilter:function(e){return{1:"已上架",0:"已下架"}[e]},statusFilter:function(e){return{"已领卡":"info","已激活":"success","过期":"danger"}[e]}},components:{Tinymce:u.a},data:function(){return{multipleSelection:[],isSaleList:[{key:1,value:"已上架"},{key:0,value:"已下架"}],tableKey:0,list:null,total:null,listLoading:!0,listQuery:{pageStart:1,pageSize:10,sort:"+id"},importanceOptions:[1,2,3],sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],statusOptions:["已领卡","已激活","过期"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"已领卡"},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}],goodsname:[{required:!0,message:"商品标题为必填项目",trigger:"blur"}],goodstype:[{required:!0,message:"商品类型为必选项目",trigger:"blur"}],simpledesc:[{required:!0,message:"商品详情为必填项",trigger:"blur"}],price:[{required:!0,message:"商品价格为必填项",trigger:"blur"},{type:"number",message:"价格必须为数字值"}],qty:[{required:!0,message:"商品价格为必填项",trigger:"blur"},{type:"number",message:"库存必须为数字值"}],marketprice:[{required:!0,message:"市场价格为必填项",trigger:"blur"}]},downloadLoading:!1,form:{goodsname:"",issale:"1",name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},tList:[],youxiaoqi:[],fileList:[],zhutuList:[],imgList:[],imglistcount:0}},created:function(){this.getList(),this.getTypeList()},methods:{changeSwitch:function(e){var t=this,i={};i.ids=e.id,"0"===e.issale?i.type="0":i.type="1",Object(s.f)(i).then(function(e){"0000"===e.data.status?t.$message({message:"操作成功",type:"success"}):t.$message({message:"操作失败",type:"alert"})})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},shangjia:function(){var e=this,t=[];this.multipleSelection.forEach(function(e){t.push(e.id)});var i={};i.ids=t.toString(),i.type="1",Object(s.f)(i).then(function(t){"0000"===t.data.status?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败",type:"alert"}),e.getList()})},xiajia:function(){var e=this,t=[];this.multipleSelection.forEach(function(e){t.push(e.id)});var i={};i.ids=t.toString(),i.type="0",Object(s.f)(i).then(function(t){"0000"===t.data.status?e.$message({message:"操作成功",type:"success"}):e.$message({message:"操作失败",type:"alert"}),e.getList()})},getTypeList:function(){var e=this;Object(l.c)().then(function(t){e.tList=t.data.result,console.log(e.tList)})},getList:function(){var e=this;this.listLoading=!0,Object(s.e)(this.listQuery).then(function(t){e.list=t.data.result,e.total=t.data.count,e.listLoading=!1,console.log(e.list)})},handleFilter:function(){this.listQuery.pageStart=1,this.getList()},handleSizeChange:function(e){this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.pageStart=e,this.getList()},handleModifyStatus:function(e,t){this.$message({message:"操作成功",type:"success"}),e.status=t},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0},createData:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&(e.temp.id=parseInt(100*Math.random())+1024,e.temp.author="vue-element-admin",Object(s.b)(e.temp).then(function(){e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})}))})},handleUpdate:function(e){var t=this;Object(s.d)(e.id).then(function(e){if(t.form=e.data.result,t.form.marketPrice=t.form.marketprice,t.form.hotFlag=t.form.hotflag,t.form.topFlag=t.form.topflag,t.form.price=parseInt(t.form.price),t.form.qty=parseInt(t.form.qty),t.youxiaoqi[0]=t.form.effectdate,t.youxiaoqi[1]=t.form.invaliddate,""!==t.form.iconaddr){var i={name:"主图",url:t.form.iconaddr};t.zhutuList.push(i)}if(""!==t.form.imageaddr){var a={name:"第一张效果图",url:t.form.imageaddr};t.fileList.push(a)}if(""!==t.form.imageaddr2){var o={name:"第二张效果图",url:t.form.imageaddr2};t.fileList.push(o)}if(""!==t.form.imageaddr3){var s={name:"第三张效果图",url:t.form.imageaddr3};t.fileList.push(s)}if(""!==t.form.imageaddr4){var l={name:"第四张效果图",url:t.form.imageaddr4};t.fileList.push(l)}if(""!==t.form.imageaddr5){var r={name:"第五张效果图",url:t.form.imageaddr5};t.fileList.push(r)}t.dialogStatus="update",t.dialogFormVisible=!0,console.log(t.$refs),t.$refs.editor.initTinymce(),t.$refs.editor.setContent(t.form.goodsdescribe)})},updateData:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&(e.form.imageaddr="",e.form.imageaddr2="",e.form.imageaddr3="",e.form.imageaddr4="",e.form.imageaddr5="",e.form.effectdate=e.youxiaoqi[0],e.form.invaliddate=e.youxiaoqi[1],e.$refs.uploada.uploadFiles.length>0&&"object"===o()(e.$refs.uploada.uploadFiles[0].response)?e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result:e.$refs.uploada.uploadFiles.length>0&&(e.form.imageaddr=e.$refs.uploada.uploadFiles[0].url),e.$refs.uploada.uploadFiles.length>1&&"object"===o()(e.$refs.uploada.uploadFiles[1].response)?e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].response.result:e.$refs.uploada.uploadFiles.length>1&&(e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].url),e.$refs.uploada.uploadFiles.length>2&&"object"===o()(e.$refs.uploada.uploadFiles[2].response)?e.form.imageaddr3=e.$refs.uploada.uploadFiles[2].response.result:e.$refs.uploada.uploadFiles.length>2&&(e.form.imageaddr3=e.$refs.uploada.uploadFiles[2].url),e.$refs.uploada.uploadFiles.length>3&&"object"===o()(e.$refs.uploada.uploadFiles[3].response)?e.form.imageaddr4=e.$refs.uploada.uploadFiles[3].response.result:e.$refs.uploada.uploadFiles.length>3&&(e.form.imageaddr4=e.$refs.uploada.uploadFiles[3].url),e.$refs.uploada.uploadFiles.length>4&&"object"===o()(e.$refs.uploada.uploadFiles[4].response)?e.form.imageaddr5=e.$refs.uploada.uploadFiles[4].response.result:e.$refs.uploada.uploadFiles.length>4&&(e.form.imageaddr5=e.$refs.uploada.uploadFiles[4].url),e.form.hotFlag=e.form.hotflag,e.form.topFlag=e.form.topflag,"生活优品"===e.form.goodstype?e.form.goodstype="07":"06"===e.form.goodstype&&(e.form.goodstype="健康个护"),Object(s.g)(e.form).then(function(t){"0000"===t.data.status?(e.$notify({title:"成功",message:"商品更新成功",type:"success"}),e.form={},e.zhutuList=[],e.fileList=[],e.getList(),e.dialogFormVisible=!1):e.$notify({title:"失败",message:"商品更新失败",type:"danger"})}))})},handleClose:function(){this.form={},this.zhutuList=[],this.fileList=[],this.youxiaoqi=[],this.dialogFormVisible=!1},handleDelete:function(e){var t=this;this.$confirm("此操作将删除商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.delete(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},delete:function(e){var t={goodId:e};Object(s.c)(t).then(function(e){}),this.$message({type:"success",message:"删除成功!"}),this.getList()},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([i.e("chunk-0d49"),i.e("chunk-63e8")]).then(i.bind(null,"S/jZ")).then(function(t){var i=e.formatJson(["timestamp","title","type","importance","status"],e.list);t.export_json_to_excel({header:["timestamp","title","type","importance","status"],data:i,filename:"table-list"}),e.downloadLoading=!1})},uploadSuccess:function(e,t,i){this.imgList.push(e.result)},zhutuUploadSuccess:function(e,t,i){this.form.iconaddr=e.result},handleExceed:function(){this.$message({message:"超出主图上传数量限制，主图仅能上传一张图片",type:"warning"})},handlePreview:function(){console.log("商品预览")},zhutuHandleRemove:function(){this.form.iconaddr=""},handleRemove:function(e,t){console.log(t)},beforeRemove:function(){console.log("移除之前")},onSubmit:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&(e.youxiaoqi.length>0&&(e.form.effectdate=e.youxiaoqi[0],e.form.invaliddate=e.youxiaoqi[1]),1===e.$refs.uploada.uploadFiles.length?e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result:2===e.$refs.uploada.uploadFiles.length?(e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result,e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].response.result):3===e.$refs.uploada.uploadFiles.length?(e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result,e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].response.result,e.form.imageaddr3=e.$refs.uploada.uploadFiles[2].response.result):4===e.$refs.uploada.uploadFiles.length?(e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result,e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].response.result,e.form.imageaddr3=e.$refs.uploada.uploadFiles[2].response.result,e.form.imageaddr4=e.$refs.uploada.uploadFiles[3].response.result):5===e.$refs.uploada.uploadFiles.length&&(e.form.imageaddr=e.$refs.uploada.uploadFiles[0].response.result,e.form.imageaddr2=e.$refs.uploada.uploadFiles[1].response.result,e.form.imageaddr3=e.$refs.uploada.uploadFiles[2].response.result,e.form.imageaddr4=e.$refs.uploada.uploadFiles[3].response.result,e.form.imageaddr5=e.$refs.uploada.uploadFiles[4].response.result),Object(s.a)(e.form).then(function(t){"0000"===t.data.status?(e.$notify({title:"成功",message:"商品添加成功",type:"success"}),e.getList(),e.dialogFormVisible=!1):(e.$notify({title:"失败",message:"商品添加失败",type:"alert"}),e.getList(),e.dialogFormVisible=!1)}))})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(n.d)(t[e]):t[e]})})}}},d=(i("ZuwL"),i("KHd+")),p=Object(d.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"商品编号"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.listQuery.goodsnoLike,callback:function(t){e.$set(e.listQuery,"goodsnoLike",t)},expression:"listQuery.goodsnoLike"}}),e._v(" "),i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"商品名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.listQuery.goodsnameLike,callback:function(t){e.$set(e.listQuery,"goodsnameLike",t)},expression:"listQuery.goodsnameLike"}}),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:"状态",clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.issale,callback:function(t){e.$set(e.listQuery,"issale",t)},expression:"listQuery.issale"}},e._l(e.isSaleList,function(t){return i("el-option",{key:t.key,attrs:{label:t.value,value:t.key}},[e._v(e._s(t.value))])})),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择商品分类",clearable:""},model:{value:e.listQuery.goodstype,callback:function(t){e.$set(e.listQuery,"goodstype",t)},expression:"listQuery.goodstype"}},e._l(e.tList,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("table.search")))]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.xiajia}},[e._v("一键下架")]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.shangjia}},[e._v("一键上架")]),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary"},on:{click:e.handleCreate}},[e._v("新增")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{label:"商品编号",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.goodsno))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品图片",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("img",{staticClass:"goodicon",attrs:{src:e.row.iconaddr}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品名称","min-width":"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.goodsname))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品类型",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.goodstype))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"售价",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.price))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"库存",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.qty))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"状态",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("无")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"是否上架",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(i){e.changeSwitch(t.row)}},model:{value:t.row.issale,callback:function(i){e.$set(t.row,"issale",i)},expression:"scope.row.issale"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"新品",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#13ce66","inactive-color":"#ff4949",disabled:""},model:{value:t.row.topFlag,callback:function(i){e.$set(t.row,"topFlag",i)},expression:"scope.row.topFlag"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"爆款",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#13ce66","inactive-color":"#ff4949",disabled:""},model:{value:t.row.hotFlag,callback:function(i){e.$set(t.row,"hotFlag",i)},expression:"scope.row.hotFlag"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center","min-width":"220","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text"},on:{click:function(i){e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(i){e.handleDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"pagination-container"},[i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{"current-page":e.listQuery.pageStart,"page-sizes":[10,20,30,50],"page-size":e.listQuery.pageSize,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{staticClass:"custom_dialog",attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"dataForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"商品名称",prop:"goodsname"}},[i("el-input",{model:{value:e.form.goodsname,callback:function(t){e.$set(e.form,"goodsname",t)},expression:"form.goodsname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商品类型",prop:"goodstype"}},[i("el-select",{attrs:{placeholder:"请选择商品分类"},model:{value:e.form.goodstype,callback:function(t){e.$set(e.form,"goodstype",t)},expression:"form.goodstype"}},e._l(e.tList,function(e){return i("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"商品简述",prop:"simpledesc"}},[i("el-input",{attrs:{autosize:{minRows:2,maxRows:4},placeholder:"请输入内容",type:"textarea"},model:{value:e.form.simpledesc,callback:function(t){e.$set(e.form,"simpledesc",t)},expression:"form.simpledesc"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"市场价格",prop:"marketPrice"}},[i("el-input",{model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",t)},expression:"form.marketPrice"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"价格",prop:"price"}},[i("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",e._n(t))},expression:"form.price"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"库存",prop:"qty"}},[i("el-input",{model:{value:e.form.qty,callback:function(t){e.$set(e.form,"qty",e._n(t))},expression:"form.qty"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否上架"}},[i("el-tooltip",{attrs:{content:"是否上架开关，点击切换",placement:"top"}},[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"是","inactive-text":"否","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.issale,callback:function(t){e.$set(e.form,"issale",t)},expression:"form.issale"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"新品发布"}},[i("el-tooltip",{attrs:{content:"新品发布开关，点击切换",placement:"top"}},[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"是","inactive-text":"否","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.topflag,callback:function(t){e.$set(e.form,"topflag",t)},expression:"form.topflag"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"爆款推荐"}},[i("el-tooltip",{attrs:{content:"是爆款推荐开关，点击切换",placement:"top"}},[i("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-text":"是","inactive-text":"否","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.hotflag,callback:function(t){e.$set(e.form,"hotflag",t)},expression:"form.hotflag"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"支付方式"}},[i("el-tooltip",{attrs:{content:"支付方式切换开关",placement:"top"}},[i("el-switch",{attrs:{"active-value":"1","inactive-value":"2","active-text":"积分","inactive-text":"现金","active-color":"#13ce66","inactive-color":"#409EFF"},model:{value:e.form.giftFlag,callback:function(t){e.$set(e.form,"giftFlag",t)},expression:"form.giftFlag"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"有效期",prop:"youxiaoqi"}},[i("el-date-picker",{attrs:{type:"datetimerange","value-format":"yyyyMMddHHmmss","range-separator":"至","start-placeholder":"生效日期","end-placeholder":"失效日期"},model:{value:e.youxiaoqi,callback:function(t){e.youxiaoqi=t},expression:"youxiaoqi"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"商品主图",prop:"zhutuList"}},[i("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.zhutuList,limit:1,"on-success":e.zhutuUploadSuccess,"on-exceed":e.handleExceed,"on-preview":e.handlePreview,"on-remove":e.zhutuHandleRemove,"before-remove":e.beforeRemove,"list-type":"picture",action:"http://crmin.jidui.mobi/bGoods/uploadPic"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("主图限制1张图片，尺寸建议跟美工确认后修改，只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"列表图标"}},[i("el-upload",{ref:"uploada",staticClass:"upload-demo",attrs:{"file-list":e.fileList,limit:5,"on-success":e.uploadSuccess,"on-exceed":e.handleExceed,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"list-type":"picture",multiple:"",action:"http://crmin.jidui.mobi/bGoods/uploadPic"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v('商品列表图尺寸800*800px，建议命名方法"产品编号_1"只能上传jpg/png文件，且不超过500kb')])],1)],1),e._v(" "),i("div",{staticClass:"editor-container"},[i("Tinymce",{ref:"editor",attrs:{height:400},model:{value:e.form.goodsdescribe,callback:function(t){e.$set(e.form,"goodsdescribe",t)},expression:"form.goodsdescribe"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(e._s(e.$t("table.cancel")))]),e._v(" "),"create"==e.dialogStatus?i("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("table.confirm")))]):i("el-button",{attrs:{type:"primary"},on:{click:e.updateData}},[e._v(e._s(e.$t("table.confirm")))])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(t){e.dialogPvVisible=t}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pvData,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"key",label:"Channel"}}),e._v(" "),i("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogPvVisible=!1}}},[e._v(e._s(e.$t("table.confirm")))])],1)],1)],1)},[],!1,null,null,null);p.options.__file="list.vue";t.default=p.exports}}]);